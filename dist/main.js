(()=>{"use strict";const e=(()=>{const e=()=>document.getElementById("temp-display").getAttribute("value");return{mainWeatherDisplay:t=>{document.getElementById("main-weather-location").textContent=t.name;const n=document.getElementById("main-weather-temp");let i="";i="metric"===e()?"째C":"째F",n.textContent=`${Math.round(10*t.main.temp)/10} ${i}`;const r=document.getElementById("main-weather-condition");r.textContent=t.weather[0].description,r.style.textTransform="capitalize",document.getElementById("weather-image").src=`img/${t.weather[0].icon}.png`,document.getElementById("main-weather-date").textContent=a(t.timezone),document.getElementById("main-weather-time").textContent=m(t.timezone)},getUnit:e,sideWeatherDisplay:t=>{let n="",a="";"metric"===e()?(n="째C",a="km/h"):(n="째F",a="m/h"),document.getElementById("feeltemp-degree").textContent=`${t.main.feels_like} ${n}`,document.getElementById("humidity-perc").textContent=`${t.main.humidity} %`,document.getElementById("max-temp").textContent=`${t.main.temp_max} ${n}`,document.getElementById("wind-speed").textContent=`${t.wind.speed} ${a}`}}})();async function t(t){try{const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=${e.getUnit()}&APPID=3e154bc3a93e83e26ed0c94673a17679`,{mode:"cors"}),a=await n.json();a.message?alert(`Error: ${a.message}`):(console.log(a),e.mainWeatherDisplay(a),e.sideWeatherDisplay(a),initMap(a))}catch(e){alert(`Error: ${e}`)}}const n=e=>{const t=new Date,n=t.getTime(),a=6e4*t.getTimezoneOffset();return new Date(n+a+1e3*e)},a=e=>{const t=n(e);return`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]}, ${t.getDate()}th ${["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]}' ${t.getFullYear()}`},m=e=>n(e).toLocaleTimeString(),i=document.getElementById("location");i.addEventListener("keydown",(e=>{"Enter"===e.key&&(""!==e.target.value&&t(e.target.value),i.value="")})),document.getElementById("temp-display").addEventListener("click",(()=>{const e=document.getElementById("temp-display");"metric"===e.getAttribute("value")?e.setAttribute("value","imperial"):e.setAttribute("value","metric"),t(document.getElementById("main-weather-location").textContent)})),t("Netherlands")})();